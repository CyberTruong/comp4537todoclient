(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{207:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n(0),r=n.n(a),s=n(1),i=n(301),c=n(147),u=n(11),o=n.n(u),l=n(6),f=n.n(l),p=n(71),h=n(206),d=n(25),m=n(23),v=n(10),k=n.n(v),E=n(12),T=n.n(E),y=n(302),S=n(7),w=n.n(S);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){function e(){k()(this,e)}return T()(e,null,[{key:"authenticate",value:function(e,t){var n,a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f.a.awrap(fetch(this.APIEndPoints.AUTH,{method:this.METHODS.POST,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}));case 3:if(!(n=r.sent).ok){r.next=10;break}return r.next=7,f.a.awrap(n.json());case 7:return a=r.sent,this.token=a,r.abrupt("return",a);case 10:throw new Error(n.status);case 13:throw r.prev=13,r.t0=r.catch(0),r.t0;case 16:case"end":return r.stop()}}),null,this,[[0,13]],Promise)}},{key:"getLists",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(fetch(this.APIEndPoints.LISTS,{method:this.METHODS.POST,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token})}));case 2:if(!(e=t.sent).ok){t.next=9;break}return t.t0=JSON,t.next=7,f.a.awrap(e.json());case 7:return t.t1=t.sent,t.abrupt("return",t.t0.parse.call(t.t0,t.t1));case 9:throw new Error(e.status);case 10:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"createList",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(fetch(this.APIEndPoints.LIST,{method:this.METHODS.POST,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token})}));case 2:if((e=t.sent).ok){t.next=5;break}throw new Error(e.status);case 5:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"updateList",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(fetch(this.APIEndPoints.LIST+"/"+e.id,{method:this.METHODS.PUT,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(P({token:this.token},e.getProperties()))}));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error(t.status);case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"deleteList",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(fetch(this.APIEndPoints.LIST+"/"+e.id,{method:this.METHODS.DELETE,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token})}));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error(t.status);case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"getTasks",value:function(e){var t,n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(fetch(this.APIEndPoints.TASKS+"/"+e.id,{method:this.METHODS.POST,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token})}));case 2:return t=a.sent,a.next=5,f.a.awrap(t.json());case 5:if(n=a.sent,!t.ok){a.next=8;break}return a.abrupt("return",n);case 8:throw new Error(t.status);case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"createTask",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(fetch(this.APIEndPoints.TASK+"/"+e.id,{method:this.METHODS.POST,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token})}));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error(t.status);case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"updateTask",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(fetch(this.APIEndPoints.TASK+"/"+e.id,{method:this.METHODS.PUT,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(P({token:this.token},e.getProperties()))}));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error(t.status);case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"deleteTask",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(fetch(this.APIEndPoints.TASK+"/"+e.id,{method:this.METHODS.DELETE,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token})}));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error(t.status);case 5:case"end":return n.stop()}}),null,this,null,Promise)}}]),e}();g.APIRoot="https://ktruong.net:3002/API/v1",g.token=null,g.APIEndPoints={AUTH:g.APIRoot+"/auth",LISTS:g.APIRoot+"/lists",LIST:g.APIRoot+"/list",TASKS:g.APIRoot+"/tasks",TASK:g.APIRoot+"/task"},g.METHODS={GET:"GET",PUT:"PUT",POST:"POST",DELETE:"DELETE"};var b=function(){function e(t){k()(this,e),this.id=t.id,this.list_id=t.list_id,this.name=new y.a(t.name?t.name:"Enter Task Name"),this.description=new y.a(t.description?t.description:" ")}return T()(e,[{key:"getProperties",value:function(){return{id:this.id,list_id:this.list_id,name:this.name.getValue(),description:this.description.getValue()}}},{key:"updateTask",value:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(g.updateTask(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)}}]),e}(),O=function(){function e(t){k()(this,e),this.id=t.id,this.name=new y.a(t.name?t.name:"New List"),this.tasks=new y.a([])}return T()(e,[{key:"getTaskByID",value:function(e){var t=this.tasks.getValue().filter((function(t){return t.id==e}));if(t)return t[0]}},{key:"getProperties",value:function(){return{id:this.id,name:this.name.getValue()}}},{key:"updateList",value:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(g.updateList(this));case 2:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"getTasks",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tasks.next([]),t.next=3,f.a.awrap(g.getTasks(this));case 3:(e=t.sent)&&this.tasks.next(e.map((function(e){return new b(e)})));case 5:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"createTask",value:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(g.createTask(this));case 2:this.getTasks();case 3:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"deleteTask",value:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(g.deleteTask(e));case 2:this.getTasks();case 3:case"end":return t.stop()}}),null,this,null,Promise)}}]),e}(),L=function(){function e(){k()(this,e),this.lists=new y.a([])}return T()(e,[{key:"getListByID",value:function(e){var t=this.lists.getValue().filter((function(t){return t.id==e}));if(t)return t[0]}},{key:"getLists",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lists.next([]),t.next=3,f.a.awrap(g.getLists());case 3:(e=t.sent)&&this.lists.next(e.map((function(e){return new O(e)})));case 5:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"createList",value:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(g.createList());case 2:this.getLists();case 3:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"deleteList",value:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(g.deleteList(e));case 2:this.getLists();case 3:case"end":return t.stop()}}),null,this,null,Promise)}}]),e}();L.instance=new L;var I=L.instance,D=n(29),A="Auth",j="Home",N="List",C="Task",H=n(3);function U(){var e=Object(D.useNavigation)(),t=r.a.useState(I.lists.getValue()),n=o()(t,2),a=n[0],s=n[1],i=r.a.useState(""),c=o()(i,2),u=c[0],l=c[1],v=r.a.useState(null),k=o()(v,2),E=k[0],T=k[1];return r.a.useEffect((function(){var t=I.lists.subscribe((function(e){s(e)}));return e.addListener("focus",(function(){T(null)})),function(){t.unsubscribe()}}),[]),r.a.useEffect((function(){try{I.getLists()}catch(e){l(e.message)}}),[]),r.a.createElement(H.a,null,r.a.createElement(p.a,{extraData:E,data:a,keyExtractor:function(e){return e.id.toString()},renderItem:function(t){var n=t.item;return r.a.createElement(m.d,{onPress:function(){return function(t){T(t),e.navigate(N,{listID:t.id})}(n)}},r.a.createElement(m.d.Content,null,r.a.createElement(m.d.Title,null,n.name.getValue()),r.a.createElement(m.d.Subtitle,null,"List ID: ",n.id)))}}),r.a.createElement(h.a,{title:"NEW LIST",onPress:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.awrap(I.createList());case 3:l("Success!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(e.t0.message);case 9:case"end":return e.stop()}}),null,null,[[0,6]],Promise)}}),r.a.createElement(d.a,{h5:!0},"STATUS: ",u))}function J(e){var t=e.route,n=e.navigation,a=I.getListByID(t.params.listID),s=r.a.useState([]),i=o()(s,2),c=i[0],u=i[1],l=r.a.useState(a.name.getValue()),h=o()(l,2),d=h[0],v=h[1],k=r.a.useState(""),E=o()(k,2),T=E[0],y=E[1],S=r.a.useState(null),w=o()(S,2),x=w[0],P=w[1];return r.a.useEffect((function(){var e=a.name.subscribe((function(e){return v(e)})),t=a.tasks.subscribe((function(e){return u(e)}));return n.addListener("focus",(function(){P(null)})),function(){t.unsubscribe(),e.unsubscribe()}}),[]),r.a.useEffect((function(){try{a.getTasks()}catch(e){y(e.message)}}),[]),r.a.createElement(H.a,null,r.a.createElement(H.a,{style:{flexDirection:"row",alignItems:"center"}},r.a.createElement(m.c,{containerStyle:{flex:1},label:"List Name",value:d,onChangeText:function(e){return a.name.next(e)},rightIcon:r.a.createElement(m.b,{name:"type",name:"send",onPress:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.awrap(a.updateList());case 3:y("Success!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),y(e.t0.message);case 9:case"end":return e.stop()}}),null,null,[[0,6]],Promise)}})}),r.a.createElement(m.a,{title:"DELETE LIST",onPress:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.awrap(I.deleteList(a));case 3:n.navigate(j),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),y(e.t0.message);case 9:case"end":return e.stop()}}),null,null,[[0,6]],Promise)}})),r.a.createElement(p.a,{extraData:x,data:c,keyExtractor:function(e){return e.id.toString()},renderItem:function(e){var t=e.item;return r.a.createElement(m.d,{onPress:function(){return function(e){P(e),n.navigate(C,{id:e.id,list_id:e.list_id})}(t)}},r.a.createElement(m.d.Content,null,r.a.createElement(m.d.Title,null,t.name.getValue()),r.a.createElement(m.d.Subtitle,null,"List ID: ",t.list_id," Task ID: ",t.id)))}}),r.a.createElement(m.a,{title:"NEW TASK",onPress:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.createTask(),y("Success!")}catch(t){y(t.message)}case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),r.a.createElement(m.e,{h4:!0},"STATUS: ",T))}function M(e){var t=e.route,n=e.navigation,a=I.getListByID(t.params.list_id),s=a.getTaskByID(t.params.id),i=r.a.useState(s.name.getValue()),c=o()(i,2),u=c[0],l=c[1],p=r.a.useState(s.description.getValue()),h=o()(p,2),d=h[0],v=h[1],k=r.a.useState(""),E=o()(k,2),T=E[0],y=E[1];return r.a.useEffect((function(){var e=s.name.subscribe((function(e){return l(e)})),t=s.description.subscribe((function(e){return v(e)}));return function(){e.unsubscribe(),t.unsubscribe()}}),[]),r.a.createElement(H.a,null,r.a.createElement(m.e,null,"Task ID: ",s.id),r.a.createElement(m.e,null,"List ID: ",s.list_id),r.a.createElement(m.c,{label:"Name",value:u,onChangeText:function(e){return s.name.next(e)}}),r.a.createElement(m.c,{containerStyle:{flex:1},label:"Description",value:d,onChangeText:function(e){return s.description.next(e)}}),r.a.createElement(m.a,{title:"UPDATE TASK",onPress:function(){return function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(e.updateTask(e));case 3:y("Success!"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),y(t.t0.message);case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)}(s)}}),r.a.createElement(m.a,{type:"outline",title:"DELETE TASK",onPress:function(){return function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(a.deleteTask(e));case 3:n.goBack(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),y(t.t0.message);case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)}(s)}}),r.a.createElement(m.e,{h4:!0},"STATUS: ",T))}function V(){var e=Object(D.useNavigation)(),t=r.a.useState(""),n=o()(t,2),a=n[0],s=n[1],i=r.a.useState(""),c=o()(i,2),u=c[0],l=c[1],p=r.a.useState(""),h=o()(p,2),d=h[0],v=h[1];return r.a.createElement(H.a,null,r.a.createElement(m.c,{containerStyle:{flex:1},label:"USERNAME",value:a,onChangeText:function(e){return s(e)}}),r.a.createElement(m.c,{containerStyle:{flex:1},label:"PASSWORD",value:u,onChangeText:function(e){return l(e)}}),r.a.createElement(m.a,{title:"SUBMIT",onPress:function(){return function(t,n){var a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f.a.awrap(g.authenticate(t,n));case 3:a=r.sent,v(a),e.navigate(j),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),v(r.t0.message);case 11:case"end":return r.stop()}}),null,null,[[0,8]],Promise)}(a,u)}}),r.a.createElement(m.e,{h5:!0},"STATUS: ",d))}var K=Object(i.a)();s.a.create({container:{flex:1}});function R(){return r.a.createElement(c.a,null,r.a.createElement(K.Navigator,{initialRouteName:A},r.a.createElement(K.Screen,{name:A,component:V,options:{title:"Login"}}),r.a.createElement(K.Screen,{name:j,component:U,options:{title:"To Do Lists"}}),r.a.createElement(K.Screen,{name:N,component:J,options:{title:"Tasks"}}),r.a.createElement(K.Screen,{name:C,component:M,options:{title:"Task Details"}})))}},217:function(e,t,n){e.exports=n(283)}},[[217,1,2]]]);
//# sourceMappingURL=app.c2cf3516.chunk.js.map